<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                   https://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.1.xsd">
    <changeSet author="claudiomerli (generated)" id="1637875150910-1">
        <createTable tableName="attachment">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="content_type" type="VARCHAR(255)"/>
            <column name="filename" type="VARCHAR(255)"/>
            <column defaultValueComputed="NULL" name="attachment_data_id" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet author="claudiomerli (generated)" id="1637875150910-2">
        <createTable tableName="attachment_data">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column defaultValueComputed="NULL" name="bytes" type="LONGBLOB"/>
        </createTable>
    </changeSet>
    <changeSet author="claudiomerli (generated)" id="1637875150910-3">
        <createTable tableName="content">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="admin_notes" type="VARCHAR(255)"/>
            <column name="body" type="LONGTEXT"/>
            <column name="content_status" type="VARCHAR(255)"/>
            <column defaultValueComputed="NULL" name="created_date" type="date"/>
            <column name="customer_notes" type="VARCHAR(255)"/>
            <column name="customer_token" type="VARCHAR(255)"/>
            <column defaultValueComputed="NULL" name="delivery_date" type="date"/>
            <column name="export_file_name" type="VARCHAR(255)"/>
            <column defaultValueComputed="NULL" name="last_modified_date" type="date"/>
            <column name="month_use" type="VARCHAR(255)"/>
            <column name="content_project_status" type="VARCHAR(255)"/>
            <column defaultValueComputed="NULL" name="score" type="INT"/>
            <column name="title" type="VARCHAR(255)"/>
            <column defaultValueComputed="NULL" name="content_rules_id" type="INT"/>
            <column defaultValueComputed="NULL" name="customer_id" type="INT"/>
            <column defaultValueComputed="NULL" name="editor_id" type="INT"/>
            <column defaultValueComputed="NULL" name="newspaper_id" type="INT"/>
            <column defaultValueComputed="NULL" name="project_id" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet author="claudiomerli (generated)" id="1637875150910-4">
        <createTable tableName="content_link">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="link_text" type="VARCHAR(255)"/>
            <column name="link_url" type="VARCHAR(255)"/>
            <column defaultValueComputed="NULL" name="content_id" type="INT"/>
            <column defaultValueComputed="NULL" name="content_rule_id" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet author="claudiomerli (generated)" id="1637875150910-5">
        <createTable tableName="content_rules">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="body" type="VARCHAR(255)"/>
            <column name="link_text" type="VARCHAR(255)"/>
            <column name="link_url" type="VARCHAR(255)"/>
            <column defaultValueComputed="NULL" name="max_character_body_length" type="INT"/>
            <column name="tile" type="VARCHAR(255)"/>
            <column defaultValueComputed="NULL" name="attachment_id" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet author="claudiomerli (generated)" id="1637875150910-6">
        <createTable tableName="customer">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(255)"/>
            <column defaultValueComputed="NULL" name="content_rules_id" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet author="claudiomerli (generated)" id="1637875150910-7">
        <createTable tableName="newspaper">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column defaultValueComputed="NULL" name="cost_each" type="DOUBLE"/>
            <column defaultValueComputed="NULL" name="cost_sell" type="DOUBLE"/>
            <column name="email" type="VARCHAR(255)"/>
            <column name="name" type="VARCHAR(255)"/>
            <column name="note" type="VARCHAR(255)"/>
            <column defaultValueComputed="NULL" name="purchased_content" type="INT"/>
            <column name="regional_geolocalization" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="claudiomerli (generated)" id="1637875150910-8">
        <createTable tableName="newspaper_topics">
            <column name="newspaper_id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="topic_id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="claudiomerli (generated)" id="1637875150910-9">
        <createTable tableName="project">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column defaultValueComputed="NULL" name="created_date" type="datetime"/>
            <column defaultValueComputed="NULL" name="last_modified_date" type="datetime"/>
            <column name="name" type="VARCHAR(255)"/>
            <column defaultValueComputed="NULL" name="status" type="INT"/>
            <column defaultValueComputed="NULL" name="customer_id" type="INT"/>
            <column defaultValueComputed="NULL" name="newspaper_id" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet author="claudiomerli (generated)" id="1637875150910-10">
        <createTable tableName="suggest">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column defaultValueComputed="NULL" name="created_date" type="datetime"/>
            <column name="keyword" type="VARCHAR(255)"/>
            <column defaultValueComputed="NULL" name="modified_date" type="datetime"/>
            <column name="suggests" type="LONGTEXT"/>
        </createTable>
    </changeSet>
    <changeSet author="claudiomerli (generated)" id="1637875150910-11">
        <createTable tableName="topic">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="topic_name" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="claudiomerli (generated)" id="1637875150910-12">
        <createTable tableName="user">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="email" type="VARCHAR(255)"/>
            <column name="fullname" type="VARCHAR(255)"/>
            <column name="level" type="VARCHAR(255)"/>
            <column name="mobile_phone" type="VARCHAR(255)"/>
            <column name="password" type="VARCHAR(255)"/>
            <column name="remuneration" type="VARCHAR(255)"/>
            <column name="role" type="VARCHAR(255)"/>
            <column name="username" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="claudiomerli (generated)" id="1637875150910-13">
        <createIndex indexName="FK2th7h2oyse64yir453lr3dvc4" tableName="content">
            <column defaultValueComputed="NULL" name="content_rules_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="claudiomerli (generated)" id="1637875150910-14">
        <createIndex indexName="FKb61f36y11lhai2hcl3qtl5npy" tableName="content">
            <column defaultValueComputed="NULL" name="project_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="claudiomerli (generated)" id="1637875150910-15">
        <createIndex indexName="FKb9xrdfpavcojgf0brhwm7njfq" tableName="newspaper_topics">
            <column name="topic_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="claudiomerli (generated)" id="1637875150910-16">
        <createIndex indexName="FKbw67wncs18mm5tbnyb213idxo" tableName="customer">
            <column defaultValueComputed="NULL" name="content_rules_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="claudiomerli (generated)" id="1637875150910-17">
        <createIndex indexName="FKffpoc9syuf0g3j8h075m3o4o" tableName="content_link">
            <column defaultValueComputed="NULL" name="content_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="claudiomerli (generated)" id="1637875150910-18">
        <createIndex indexName="FKhsfaynkbrrfjfyupgnbfxcxrw" tableName="project">
            <column defaultValueComputed="NULL" name="newspaper_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="claudiomerli (generated)" id="1637875150910-19">
        <createIndex indexName="FKj6bw2tqkdfdtxbyeibfbwqpu3" tableName="attachment">
            <column defaultValueComputed="NULL" name="attachment_data_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="claudiomerli (generated)" id="1637875150910-20">
        <createIndex indexName="FKj948tru2ilgqxfxsppp9mom5j" tableName="project">
            <column defaultValueComputed="NULL" name="customer_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="claudiomerli (generated)" id="1637875150910-21">
        <createIndex indexName="FKmpyd4kn23c3k1l1wmlnicwdqk" tableName="content_rules">
            <column defaultValueComputed="NULL" name="attachment_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="claudiomerli (generated)" id="1637875150910-22">
        <createIndex indexName="FKoavapuh6pm9ed6lly98ad2ji4" tableName="content">
            <column defaultValueComputed="NULL" name="newspaper_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="claudiomerli (generated)" id="1637875150910-23">
        <createIndex indexName="FKrkia4s7gt8etfu1haivs8fac0" tableName="content_link">
            <column defaultValueComputed="NULL" name="content_rule_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="claudiomerli (generated)" id="1637875150910-24">
        <createIndex indexName="FKrthy7ykyrlfkh53o8kcp4evie" tableName="content">
            <column defaultValueComputed="NULL" name="editor_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="claudiomerli (generated)" id="1637875150910-25">
        <createIndex indexName="FKxwgex486mb50xrm3rghqfc51" tableName="content">
            <column defaultValueComputed="NULL" name="customer_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="claudiomerli (generated)" id="1637875150910-26">
        <addForeignKeyConstraint baseColumnNames="content_rules_id" baseTableName="content"
                                 constraintName="FK2th7h2oyse64yir453lr3dvc4" deferrable="false"
                                 initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT"
                                 referencedColumnNames="id" referencedTableName="content_rules" validate="true"/>
    </changeSet>
    <changeSet author="claudiomerli (generated)" id="1637875150910-27">
        <addForeignKeyConstraint baseColumnNames="newspaper_id" baseTableName="newspaper_topics"
                                 constraintName="FK4qfu1prdwromg6pls3m7oi7im" deferrable="false"
                                 initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT"
                                 referencedColumnNames="id" referencedTableName="newspaper" validate="true"/>
    </changeSet>
    <changeSet author="claudiomerli (generated)" id="1637875150910-28">
        <addForeignKeyConstraint baseColumnNames="project_id" baseTableName="content"
                                 constraintName="FKb61f36y11lhai2hcl3qtl5npy" deferrable="false"
                                 initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT"
                                 referencedColumnNames="id" referencedTableName="project" validate="true"/>
    </changeSet>
    <changeSet author="claudiomerli (generated)" id="1637875150910-29">
        <addForeignKeyConstraint baseColumnNames="topic_id" baseTableName="newspaper_topics"
                                 constraintName="FKb9xrdfpavcojgf0brhwm7njfq" deferrable="false"
                                 initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT"
                                 referencedColumnNames="id" referencedTableName="topic" validate="true"/>
    </changeSet>
    <changeSet author="claudiomerli (generated)" id="1637875150910-30">
        <addForeignKeyConstraint baseColumnNames="content_rules_id" baseTableName="customer"
                                 constraintName="FKbw67wncs18mm5tbnyb213idxo" deferrable="false"
                                 initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT"
                                 referencedColumnNames="id" referencedTableName="content_rules" validate="true"/>
    </changeSet>
    <changeSet author="claudiomerli (generated)" id="1637875150910-31">
        <addForeignKeyConstraint baseColumnNames="content_id" baseTableName="content_link"
                                 constraintName="FKffpoc9syuf0g3j8h075m3o4o" deferrable="false"
                                 initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT"
                                 referencedColumnNames="id" referencedTableName="content" validate="true"/>
    </changeSet>
    <changeSet author="claudiomerli (generated)" id="1637875150910-32">
        <addForeignKeyConstraint baseColumnNames="newspaper_id" baseTableName="project"
                                 constraintName="FKhsfaynkbrrfjfyupgnbfxcxrw" deferrable="false"
                                 initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT"
                                 referencedColumnNames="id" referencedTableName="newspaper" validate="true"/>
    </changeSet>
    <changeSet author="claudiomerli (generated)" id="1637875150910-33">
        <addForeignKeyConstraint baseColumnNames="attachment_data_id" baseTableName="attachment"
                                 constraintName="FKj6bw2tqkdfdtxbyeibfbwqpu3" deferrable="false"
                                 initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT"
                                 referencedColumnNames="id" referencedTableName="attachment_data" validate="true"/>
    </changeSet>
    <changeSet author="claudiomerli (generated)" id="1637875150910-34">
        <addForeignKeyConstraint baseColumnNames="customer_id" baseTableName="project"
                                 constraintName="FKj948tru2ilgqxfxsppp9mom5j" deferrable="false"
                                 initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT"
                                 referencedColumnNames="id" referencedTableName="customer" validate="true"/>
    </changeSet>
    <changeSet author="claudiomerli (generated)" id="1637875150910-35">
        <addForeignKeyConstraint baseColumnNames="attachment_id" baseTableName="content_rules"
                                 constraintName="FKmpyd4kn23c3k1l1wmlnicwdqk" deferrable="false"
                                 initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT"
                                 referencedColumnNames="id" referencedTableName="attachment" validate="true"/>
    </changeSet>
    <changeSet author="claudiomerli (generated)" id="1637875150910-36">
        <addForeignKeyConstraint baseColumnNames="newspaper_id" baseTableName="content"
                                 constraintName="FKoavapuh6pm9ed6lly98ad2ji4" deferrable="false"
                                 initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT"
                                 referencedColumnNames="id" referencedTableName="newspaper" validate="true"/>
    </changeSet>
    <changeSet author="claudiomerli (generated)" id="1637875150910-37">
        <addForeignKeyConstraint baseColumnNames="content_rule_id" baseTableName="content_link"
                                 constraintName="FKrkia4s7gt8etfu1haivs8fac0" deferrable="false"
                                 initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT"
                                 referencedColumnNames="id" referencedTableName="content_rules" validate="true"/>
    </changeSet>
    <changeSet author="claudiomerli (generated)" id="1637875150910-38">
        <addForeignKeyConstraint baseColumnNames="editor_id" baseTableName="content"
                                 constraintName="FKrthy7ykyrlfkh53o8kcp4evie" deferrable="false"
                                 initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT"
                                 referencedColumnNames="id" referencedTableName="user" validate="true"/>
    </changeSet>
    <changeSet author="claudiomerli (generated)" id="1637875150910-39">
        <addForeignKeyConstraint baseColumnNames="customer_id" baseTableName="content"
                                 constraintName="FKxwgex486mb50xrm3rghqfc51" deferrable="false"
                                 initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT"
                                 referencedColumnNames="id" referencedTableName="customer" validate="true"/>
    </changeSet>
    <changeSet id="20211129-0" author="claudiomerli">
        <createTable tableName="project_content_preview">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="title" type="varchar(255)"/>
            <column name="link_text" type="varchar(255)"/>
            <column name="link_url" type="varchar(255)"/>
            <column name="month_use" type="varchar(255)"/>
            <column name="customer_notes" type="varchar(255)"/>
            <column name="newspaper_id" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet id="20211129-1" author="claudiomerli">
        <addForeignKeyConstraint baseTableName="project_content_preview" baseColumnNames="newspaper_id"
                                 constraintName="projectContetPreview_newspaper"
                                 referencedTableName="newspaper"
                                 referencedColumnNames="id"/>
    </changeSet>
    <changeSet id="20211129-2" author="claudiomerli">
        <dropForeignKeyConstraint baseTableName="project" constraintName="FKhsfaynkbrrfjfyupgnbfxcxrw"/>
        <dropColumn tableName="project" columnName="newspaper_id"/>
    </changeSet>
    <changeSet id="20211129-3" author="claudiomerli">
        <addColumn tableName="project_content_preview">
            <column name="project_id" type="int">
                <constraints foreignKeyName="projectContentPreview_project" referencedTableName="project"
                             referencedColumnNames="id"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet id="20211129-4" author="claudiomerli">
        <addColumn tableName="project_content_preview">
            <column name="content_id" type="int">
                <constraints foreignKeyName="projectContentPreview_content" referencedTableName="content"
                             referencedColumnNames="id"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet id="20211201-1" author="claudiomerli">
        <addColumn tableName="project">
            <column name="chief_editor_id" type="int">
                <constraints foreignKeyName="projectChiefEditor_User" referencedTableName="user"
                             referencedColumnNames="id"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet id="20211207-1" author="claudiomerli">
        <addColumn tableName="user">
            <column name="customer_id" type="int">
                <constraints foreignKeyName="userCustomer_User" referencedTableName="user" referencedColumnNames="id"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet id="20211207-2" author="claudiomerli">
        <dropForeignKeyConstraint baseTableName="user" constraintName="userCustomer_User"/>
        <dropColumn tableName="user" columnName="customer_id"/>
        <addColumn tableName="user">
            <column name="customer_id" type="int">
                <constraints foreignKeyName="userCustomer_User" referencedTableName="customer"
                             referencedColumnNames="id"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet id="1643659867035-2" author="claudiomerli (generated)">
        <addColumn tableName="newspaper">
            <column name="ip" type="VARCHAR(255)"/>
            <column name="za" type="VARCHAR(255)"/>
        </addColumn>
    </changeSet>
    <changeSet id="1643659867035-4" author="claudiomerli (generated)">
        <dropColumn columnName="link_text" tableName="content"/>
        <dropColumn columnName="link_url" tableName="content"/>
    </changeSet>
    <changeSet id="1643659867035-7" author="claudiomerli (generated)">
        <dropColumn columnName="topic" tableName="newspaper"/>
    </changeSet>
    <changeSet id="20220131" author="claudiomerli">
        <dropColumn tableName="content_rules" columnName="tile"/>
    </changeSet>
    <changeSet id="20220222-1" author="claudiomerli">
        <modifyDataType tableName="newspaper" columnName="za" newDataType="int"/>
    </changeSet>
    <changeSet id="20220629-2" author="claudiomerli">
        <addDefaultValue tableName="newspaper" columnName="purchased_content" defaultValue="0"/>
        <addDefaultValue tableName="newspaper" columnName="cost_each" defaultValue="0"/>
        <addDefaultValue tableName="newspaper" columnName="cost_sell" defaultValue="0"/>
        <addDefaultValue tableName="newspaper" columnName="za" defaultValue="0"/>
    </changeSet>
    <changeSet id="20220629-1" author="claudiomerli">
        <sql>
            UPDATE newspaper
            set purchased_content = 0
            where purchased_content is null;
            UPDATE newspaper
            set cost_each = 0
            where cost_each is null;
            UPDATE newspaper
            set cost_sell = 0
            where cost_sell is null;
            UPDATE newspaper
            set za = 0
            where za is null;
        </sql>
    </changeSet>
    <changeSet id="1657109931588-1" author="claudiomerli (generated)">
        <createTable tableName="order">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_order"/>
            </column>
            <column name="customer_id" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet id="1657109931588-2" author="claudiomerli (generated)">
        <createTable tableName="order_element">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_order_element"/>
            </column>
            <column name="content_number" type="INT"/>
            <column name="order_id" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet id="1657109931588-6" author="claudiomerli (generated)">
        <addForeignKeyConstraint baseColumnNames="order_id" baseTableName="order_element"
                                 constraintName="FK_ORDER_ELEMENT_ON_ORDER" referencedColumnNames="id"
                                 referencedTableName="order"/>
    </changeSet>
    <changeSet id="1657109931588-7" author="claudiomerli (generated)">
        <addForeignKeyConstraint baseColumnNames="customer_id" baseTableName="order"
                                 constraintName="FK_ORDER_ON_CUSTOMER" referencedColumnNames="id"
                                 referencedTableName="user"/>
    </changeSet>
    <changeSet id="1657110413728-3" author="claudiomerli (generated)">
        <addColumn tableName="order_element">
            <column name="newspaper_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet id="1657110413728-5" author="claudiomerli (generated)">
        <addForeignKeyConstraint baseColumnNames="newspaper_id" baseTableName="order_element"
                                 constraintName="FK_ORDER_ELEMENT_ON_NEWSPAPER" referencedColumnNames="id"
                                 referencedTableName="newspaper"/>
    </changeSet>
    <changeSet id="1657306097018-1" author="claudiomerli (generated)">
        <createTable tableName="notification">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_notification"/>
            </column>
            <column name="description" type="VARCHAR(255)"/>
            <column name="route" type="VARCHAR(255)"/>
            <column name="dismissed" type="BOOLEAN"/>
        </createTable>
    </changeSet>
    <changeSet id="1657306097018-4" author="claudiomerli (generated)">
        <addColumn tableName="order">
            <column name="note" type="VARCHAR(255)"/>
            <column name="status" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet id="20220708-1" author="claudiomerli">
        <renameTable oldTableName="order" newTableName="booking"/>
    </changeSet>
    <changeSet id="1657465745209-1" author="claudiomerli (generated)">
        <dropColumn columnName="status" tableName="booking"/>
    </changeSet>
    <changeSet id="1657465745209-2" author="claudiomerli (generated)">
        <addColumn tableName="booking">
            <column name="status" type="VARCHAR(255)"/>
        </addColumn>
    </changeSet>
    <changeSet id="1658852433127-3" author="claudiomerli (generated)">
        <addColumn tableName="booking">
            <column name="name" type="VARCHAR(255)"/>
        </addColumn>
    </changeSet>
    <changeSet id="1661587941753-1" author="claudiomerli (generated)">
        <createTable tableName="news">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_news"/>
            </column>
            <column name="title" type="VARCHAR(255)"/>
            <column name="text" type="CLOB"/>
            <column name="image" type="CLOB"/>
        </createTable>
    </changeSet>
    <changeSet id="1661591400648-2" author="claudiomerli (generated)">
        <addColumn tableName="news">
            <column name="created_date" type="DATETIME"/>
            <column name="last_modified_date" type="DATETIME"/>
        </addColumn>
    </changeSet>
    <changeSet id="1661596180997-1" author="claudiomerli (generated)">
        <addAutoIncrement columnDataType="int" columnName="id" tableName="news"/>
    </changeSet>
    <changeSet id="1661681940956-1" author="claudiomerli (generated)">
        <createTable tableName="order_pack">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_order_pack"/>
            </column>
            <column name="name" type="VARCHAR(255)"/>
            <column name="description" type="VARCHAR(255)"/>
            <column name="price" type="DOUBLE"/>
        </createTable>
    </changeSet>
    <changeSet id="1661681940956-4" author="claudiomerli (generated)">
        <addColumn tableName="booking">
            <column name="order_pack_id" type="INT"/>
            <column name="order_pack_price" type="DOUBLE"/>
        </addColumn>
    </changeSet>
    <changeSet id="1661681940956-5" author="claudiomerli (generated)">
        <addColumn tableName="order_element">
            <column name="order_pack_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet id="1661681940956-9" author="claudiomerli (generated)">
        <addForeignKeyConstraint baseColumnNames="order_pack_id" baseTableName="booking"
                                 constraintName="FK_BOOKING_ON_ORDER_PACK" referencedColumnNames="id"
                                 referencedTableName="order_pack"/>
    </changeSet>
    <changeSet id="1661681940956-10" author="claudiomerli (generated)">
        <addForeignKeyConstraint baseColumnNames="order_pack_id" baseTableName="order_element"
                                 constraintName="FK_ORDER_ELEMENT_ON_ORDER_PACK" referencedColumnNames="id"
                                 referencedTableName="order_pack"/>
    </changeSet>
    <changeSet id="1662632538030-2" author="claudiomerli (generated)">
        <addColumn tableName="order_pack">
            <column name="deleted" type="BOOLEAN"/>
        </addColumn>
    </changeSet>
    <changeSet id="20220908-1" author="claudiomerli">
        <sql>update order_pack
             set deleted = false
             where deleted is null</sql>
    </changeSet>
    <changeSet id="1663409679502-1" author="claudiomerli (generated)">
        <createTable tableName="request_quote">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_request_quote"/>
            </column>
            <column name="header" type="CLOB"/>
            <column name="signature" type="CLOB"/>
            <column name="order_id" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet id="1663409679502-2" author="claudiomerli (generated)">
        <createTable tableName="request_quote_price_replacement">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_request_quote_price_replacement"/>
            </column>
            <column name="price_replacement" type="DOUBLE"/>
            <column name="newspaper_id" type="INT"/>
            <column name="request_quote_id" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet id="1663409679502-7" author="claudiomerli (generated)">
        <addForeignKeyConstraint baseColumnNames="order_id" baseTableName="request_quote"
                                 constraintName="FK_REQUEST_QUOTE_ON_ORDER" referencedColumnNames="id"
                                 referencedTableName="booking"/>
    </changeSet>
    <changeSet id="1663409679502-8" author="claudiomerli (generated)">
        <addForeignKeyConstraint baseColumnNames="newspaper_id" baseTableName="request_quote_price_replacement"
                                 constraintName="FK_REQUEST_QUOTE_PRICE_REPLACEMENT_ON_NEWSPAPER"
                                 referencedColumnNames="id" referencedTableName="newspaper"/>
    </changeSet>
    <changeSet id="1663409679502-9" author="claudiomerli (generated)">
        <addForeignKeyConstraint baseColumnNames="request_quote_id" baseTableName="request_quote_price_replacement"
                                 constraintName="FK_REQUEST_QUOTE_PRICE_REPLACEMENT_ON_REQUEST_QUOTE"
                                 referencedColumnNames="id" referencedTableName="request_quote"/>
    </changeSet>
    <changeSet id="1663410269712-2" author="claudiomerli (generated)">
        <addColumn tableName="booking">
            <column name="created_date" type="DATETIME"/>
            <column name="last_modified_date" type="DATETIME"/>
        </addColumn>
    </changeSet>
    <changeSet id="1663410269712-3" author="claudiomerli (generated)">
        <addColumn tableName="request_quote">
            <column name="created_date" type="DATETIME"/>
            <column name="last_modified_date" type="DATETIME"/>
        </addColumn>
    </changeSet>
    <changeSet id="1666080113688-3" author="claudiomerli (generated)">
        <createTable tableName="project_commission">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_project_commission"/>
            </column>
            <column name="newspaper_id" type="INT"/>
            <column name="project_id" type="INT"/>
            <column name="period" type="VARCHAR(255)"/>
            <column name="anchor" type="VARCHAR(255)"/>
            <column name="url" type="VARCHAR(255)"/>
            <column name="title" type="VARCHAR(255)"/>
            <column name="notes" type="VARCHAR(255)"/>
            <column name="publication_url" type="VARCHAR(255)"/>
            <column name="status" type="VARCHAR(255)"/>
            <column name="created_date" type="DATETIME"/>
            <column name="last_modified_date" type="DATETIME"/>
        </createTable>
    </changeSet>
    <changeSet id="1666080113688-5" author="claudiomerli (generated)">
        <addColumn tableName="project">
            <column name="billing_amount" type="VARCHAR(255)"/>
            <column name="billing_description" type="VARCHAR(255)"/>
            <column name="expiration" type="DATE"/>
        </addColumn>
    </changeSet>
    <changeSet id="1666080113688-12" author="claudiomerli (generated)">
        <addForeignKeyConstraint baseColumnNames="newspaper_id" baseTableName="project_commission"
                                 constraintName="FK_PROJECT_COMMISSION_ON_NEWSPAPER" referencedColumnNames="id"
                                 referencedTableName="newspaper"/>
    </changeSet>
    <changeSet id="1666080113688-13" author="claudiomerli (generated)">
        <addForeignKeyConstraint baseColumnNames="project_id" baseTableName="project_commission"
                                 constraintName="FK_PROJECT_COMMISSION_ON_PROJECT" referencedColumnNames="id"
                                 referencedTableName="project"/>
    </changeSet>
    <changeSet id="1666080113688-14" author="claudiomerli (generated)">
        <dropForeignKeyConstraint baseTableName="project" constraintName="projectChiefEditor_User"/>
    </changeSet>
    <changeSet id="1666080113688-15" author="claudiomerli (generated)">
        <dropColumn columnName="chief_editor_id" tableName="project"/>

        <dropColumn columnName="status" tableName="project"/>
    </changeSet>
    <changeSet id="1666080113688-2" author="claudiomerli (generated)">
        <addColumn tableName="project">
            <column name="status" type="VARCHAR(255)"/>
        </addColumn>
    </changeSet>
    <changeSet id="1666086911454-9" author="claudiomerli (generated)">
        <dropForeignKeyConstraint baseTableName="project" constraintName="FKj948tru2ilgqxfxsppp9mom5j"/>
    </changeSet>
    <changeSet id="1666086911454-8" author="claudiomerli (generated)">
        <addForeignKeyConstraint baseColumnNames="customer_id" baseTableName="project"
                                 constraintName="FK_PROJECT_ON_CUSTOMER" referencedColumnNames="id"
                                 referencedTableName="user"/>
    </changeSet>
    <changeSet id="1666086911454-1" author="claudiomerli (generated)">
        <dropColumn columnName="billing_amount" tableName="project"/>
    </changeSet>
    <changeSet id="1666086911454-2" author="claudiomerli (generated)">
        <addColumn tableName="project">
            <column name="billing_amount" type="DOUBLE"/>
        </addColumn>
    </changeSet>
    <changeSet id="1668441978561-2" author="claudiomerli (generated)">
        <addColumn tableName="newspaper">
            <column name="deleted" type="BOOLEAN"/>
        </addColumn>
    </changeSet>
    <changeSet id="20221114" author="claudiomerli">
        <validCheckSum>ANY</validCheckSum>
        <sql>update newspaper
             set deleted= false
             where deleted is null</sql>
    </changeSet>
    <changeSet id="20221114-2" author="claudiomerli">
        <validCheckSum>ANY</validCheckSum>
        <sql>update project_commission
             set status = 'SENT_TO_ADMINISTRATION'
             where status = 'PUBLISHED'</sql>
    </changeSet>
    <changeSet id="20221114-3" author="claudiomerli">
        <validCheckSum>ANY</validCheckSum>
        <sql>update project
             set status = 'SENT_TO_ADMINISTRATION'
             where status = 'PUBLISHED'</sql>
    </changeSet>
    <changeSet id="20221115-1" author="claudiomerli">
        <renameColumn tableName="newspaper" oldColumnName="deleted" newColumnName="hidden" columnDataType="BOOLEAN"/>
    </changeSet>
    <changeSet id="1668679986888-1" author="claudiomerli (generated)">
        <createTable tableName="project_status_change">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_project_status_change"/>
            </column>
            <column name="project_status" type="VARCHAR(255)"/>
            <column name="project_commission_status" type="VARCHAR(255)"/>
            <column name="created_date" type="DATETIME"/>
            <column name="project_id" type="INT"/>
            <column name="project_commission_id" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet id="1668679986888-7" author="claudiomerli (generated)">
        <addForeignKeyConstraint baseColumnNames="project_id" baseTableName="project_status_change"
                                 constraintName="FK_PROJECT_STATUS_CHANGE_ON_PROJECT" referencedColumnNames="id"
                                 referencedTableName="project"/>
    </changeSet>
    <changeSet id="1668679986888-8" author="claudiomerli (generated)">
        <addForeignKeyConstraint baseColumnNames="project_commission_id" baseTableName="project_status_change"
                                 constraintName="FK_PROJECT_STATUS_CHANGE_ON_PROJECT_COMMISSION"
                                 referencedColumnNames="id" referencedTableName="project_commission"/>
    </changeSet>
    <changeSet id="20221117" author="claudiomerli">
        <validCheckSum>ANY</validCheckSum>
        <sql>update project
             set status = 'INVOICED'
             where status = 'CLOSED'</sql>
    </changeSet>
    <changeSet id="20221117-2" author="claudiomerli">
        <validCheckSum>ANY</validCheckSum>
        <sql>update project_status_change
             set project_status = 'INVOICED'
             where project_status = 'CLOSED'</sql>
    </changeSet>
    <changeSet id="1668771805366-1" author="claudiomerli (generated)">
        <modifyDataType columnName="notes" newDataType="CLOB" tableName="project_commission"/>
    </changeSet>
    <changeSet id="1670066962752-6" author="claudiomerli (generated)">
        <addColumn tableName="project_commission">
            <column name="year" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet id="1670072358403-2" author="claudiomerli (generated)">
        <addColumn tableName="newspaper">
            <column name="sensitive_topics" type="BOOLEAN"/>
        </addColumn>
    </changeSet>
    <changeSet id="20221203" author="claudiomerli">
        <validCheckSum>ANY</validCheckSum>
        <sql>update newspaper
             set sensitive_topics= false
             where sensitive_topics is null</sql>
    </changeSet>
    <changeSet id="1670073272975-3" author="claudiomerli (generated)">
        <addColumn tableName="project_commission">
            <column name="publication_date" type="DATE"/>
        </addColumn>
    </changeSet>
    <changeSet id="1670671497574-2" author="claudiomerli (generated)">
        <addColumn tableName="project_commission">
            <column name="is_anchor_bold" type="BOOLEAN"/>
            <column name="is_anchor_italic" type="BOOLEAN"/>
        </addColumn>
    </changeSet>
    <changeSet id="1673694559075-6" author="claudiomerli (generated)">
        <dropForeignKeyConstraint baseTableName="content" constraintName="FK2th7h2oyse64yir453lr3dvc4"/>
    </changeSet>
    <changeSet id="1673694559075-7" author="claudiomerli (generated)">
        <dropForeignKeyConstraint baseTableName="content" constraintName="FKb61f36y11lhai2hcl3qtl5npy"/>
    </changeSet>
    <changeSet id="1673694559075-8" author="claudiomerli (generated)">
        <dropForeignKeyConstraint baseTableName="customer" constraintName="FKbw67wncs18mm5tbnyb213idxo"/>
    </changeSet>
    <changeSet id="1673694559075-9" author="claudiomerli (generated)">
        <dropForeignKeyConstraint baseTableName="content_link" constraintName="FKffpoc9syuf0g3j8h075m3o4o"/>
    </changeSet>
    <changeSet id="1673694559075-10" author="claudiomerli (generated)">
        <dropForeignKeyConstraint baseTableName="attachment" constraintName="FKj6bw2tqkdfdtxbyeibfbwqpu3"/>
    </changeSet>
    <changeSet id="1673694559075-11" author="claudiomerli (generated)">
        <dropForeignKeyConstraint baseTableName="content_rules" constraintName="FKmpyd4kn23c3k1l1wmlnicwdqk"/>
    </changeSet>
    <changeSet id="1673694559075-12" author="claudiomerli (generated)">
        <dropForeignKeyConstraint baseTableName="content" constraintName="FKoavapuh6pm9ed6lly98ad2ji4"/>
    </changeSet>
    <changeSet id="1673694559075-13" author="claudiomerli (generated)">
        <dropForeignKeyConstraint baseTableName="content_link" constraintName="FKrkia4s7gt8etfu1haivs8fac0"/>
    </changeSet>
    <changeSet id="1673694559075-14" author="claudiomerli (generated)">
        <dropForeignKeyConstraint baseTableName="content" constraintName="FKrthy7ykyrlfkh53o8kcp4evie"/>
    </changeSet>
    <changeSet id="1673694559075-15" author="claudiomerli (generated)">
        <dropForeignKeyConstraint baseTableName="content" constraintName="FKxwgex486mb50xrm3rghqfc51"/>
    </changeSet>
    <changeSet id="1673694559075-16" author="claudiomerli (generated)">
        <dropForeignKeyConstraint baseTableName="project_content_preview"
                                  constraintName="projectContentPreview_content"/>
    </changeSet>
    <changeSet id="1673694559075-17" author="claudiomerli (generated)">
        <dropForeignKeyConstraint baseTableName="project_content_preview"
                                  constraintName="projectContentPreview_project"/>
    </changeSet>
    <changeSet id="1673694559075-18" author="claudiomerli (generated)">
        <dropForeignKeyConstraint baseTableName="project_content_preview"
                                  constraintName="projectContetPreview_newspaper"/>
    </changeSet>
    <changeSet id="1673694559075-19" author="claudiomerli (generated)">
        <dropForeignKeyConstraint baseTableName="user" constraintName="userCustomer_User"/>
    </changeSet>
    <changeSet id="1673694559075-20" author="claudiomerli (generated)">
        <dropTable cascadeConstraints="true" tableName="attachment"/>
    </changeSet>
    <changeSet id="1673694559075-21" author="claudiomerli (generated)">
        <dropTable cascadeConstraints="true" tableName="attachment_data"/>
    </changeSet>
    <changeSet id="1673694559075-22" author="claudiomerli (generated)">
        <dropTable cascadeConstraints="true" tableName="content"/>
    </changeSet>
    <changeSet id="1673694559075-23" author="claudiomerli (generated)">
        <dropTable cascadeConstraints="true" tableName="content_link"/>
    </changeSet>
    <changeSet id="1673694559075-24" author="claudiomerli (generated)">
        <dropTable cascadeConstraints="true" tableName="content_rules"/>
    </changeSet>
    <changeSet id="1673694559075-25" author="claudiomerli (generated)">
        <dropTable cascadeConstraints="true" tableName="customer"/>
    </changeSet>
    <changeSet id="1673694559075-26" author="claudiomerli (generated)">
        <dropTable cascadeConstraints="true" tableName="project_content_preview"/>
    </changeSet>
    <changeSet id="1673694559075-27" author="claudiomerli (generated)">
        <dropTable cascadeConstraints="true" tableName="suggest"/>
    </changeSet>
    <changeSet id="1673694559075-28" author="claudiomerli (generated)">
        <dropColumn columnName="customer_id" tableName="user"/>
    </changeSet>
    <changeSet id="1673708047623-1" author="claudiomerli (generated)">
        <createTable tableName="content">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_content"/>
            </column>
            <column name="body" type="CLOB"/>
            <column name="content_status" type="VARCHAR(255)"/>
            <column name="project_commission_id" type="INT"/>
            <column name="editor_id" type="INT"/>
            <column name="created_date" type="DATETIME"/>
            <column name="last_modified_date" type="DATETIME"/>
        </createTable>
    </changeSet>
    <changeSet id="1673708047623-6" author="claudiomerli (generated)">
        <addForeignKeyConstraint baseColumnNames="editor_id" baseTableName="content"
                                 constraintName="FK_CONTENT_ON_EDITOR" referencedColumnNames="id"
                                 referencedTableName="user"/>
    </changeSet>
    <changeSet id="1673708047623-7" author="claudiomerli (generated)">
        <addForeignKeyConstraint baseColumnNames="project_commission_id" baseTableName="content"
                                 constraintName="FK_CONTENT_ON_PROJECTCOMMISSION" referencedColumnNames="id"
                                 referencedTableName="project_commission"/>
    </changeSet>
    <changeSet id="20230123-1" author="claudiomerli">
        <sql>
            UPDATE project_commission
            set period = '0'
            where period = 'GENNAIO';
            UPDATE project_commission
            set period = '1'
            where period = 'FEBBRAIO';
            UPDATE project_commission
            set period = '2'
            where period = 'MARZO';
            UPDATE project_commission
            set period = '3'
            where period = 'APRILE';
            UPDATE project_commission
            set period = '4'
            where period = 'MAGGIO';
            UPDATE project_commission
            set period = '5'
            where period = 'GIUGNO';
            UPDATE project_commission
            set period = '6'
            where period = 'LUGLIO';
            UPDATE project_commission
            set period = '7'
            where period = 'AGOSTO';
            UPDATE project_commission
            set period = '8'
            where period = 'SETTEMBRE';
            UPDATE project_commission
            set period = '9'
            where period = 'OTTOBRE';
            UPDATE project_commission
            set period = '10'
            where period = 'NOVEMBRE';
            UPDATE project_commission
            set period = '11'
            where period = 'DICEMBRE';
        </sql>
    </changeSet>
    <changeSet id="20230123-2" author="claudiomerli">
        <renameColumn tableName="project_commission" oldColumnName="period" newColumnName="period_old"
                      columnDataType="varchar(255)"/>
    </changeSet>
    <changeSet id="20230123-3" author="claudiomerli">
        <addColumn tableName="project_commission">
            <column name="period" type="int"/>
        </addColumn>
    </changeSet>
    <changeSet id="20230123-4" author="claudiomerli">
        <sql>UPDATE project_commission
             set period = CAST(period_old AS UNSIGNED)</sql>
    </changeSet>
    <changeSet id="20230123-5" author="claudiomerli">
        <dropColumn tableName="project_commission" columnName="period_old"/>
    </changeSet>
    <changeSet id="1674514954354-1" author="claudiomerli (generated)">
        <createTable tableName="attachment">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_attachment"/>
            </column>
            <column name="filename" type="VARCHAR(255)"/>
            <column name="payload" type="BLOB"/>
            <column name="content_hint_id" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet id="1674514954354-2" author="claudiomerli (generated)">
        <createTable tableName="content_hint">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_content_hint"/>
            </column>
            <column name="body" type="VARCHAR(255)"/>
            <column name="created_date" type="DATETIME"/>
            <column name="last_modified_date" type="DATETIME"/>
        </createTable>
    </changeSet>
    <changeSet id="1674514954354-4" author="claudiomerli (generated)">
        <addColumn tableName="project_commission">
            <column name="project_name" type="VARCHAR(255)"/>
        </addColumn>
    </changeSet>
    <changeSet id="1674514954354-8" author="claudiomerli (generated)">
        <addForeignKeyConstraint baseColumnNames="content_hint_id" baseTableName="attachment"
                                 constraintName="FK_ATTACHMENT_ON_CONTENTHINT" referencedColumnNames="id"
                                 referencedTableName="content_hint"/>
    </changeSet>
    <changeSet id="1674515108534-1" author="claudiomerli (generated)">
        <addColumn tableName="content">
            <column name="hint_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet id="1674515108534-6" author="claudiomerli (generated)">
        <addForeignKeyConstraint baseColumnNames="hint_id" baseTableName="content" constraintName="FK_CONTENT_ON_HINT"
                                 referencedColumnNames="id" referencedTableName="content_hint"/>
    </changeSet>
    <changeSet id="20230123-6" author="claudiomerli">
        <modifyDataType tableName="attachment" columnName="payload" newDataType="longblob"/>
    </changeSet>
    <changeSet id="1674581531940-1" author="claudiomerli (generated)">
        <addColumn tableName="project">
            <column name="hint_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet id="1674581531940-6" author="claudiomerli (generated)">
        <addForeignKeyConstraint baseColumnNames="hint_id" baseTableName="project" constraintName="FK_PROJECT_ON_HINT"
                                 referencedColumnNames="id" referencedTableName="content_hint"/>
    </changeSet>
    <changeSet id="1674679125710-1" author="claudiomerli (generated)">
        <modifyDataType columnName="body" newDataType="longblob" tableName="content_hint"/>
    </changeSet>
    <changeSet id="1674679589773-1" author="claudiomerli (generated)">
        <modifyDataType columnName="body" newDataType="CLOB" tableName="content_hint"/>
    </changeSet>
    <changeSet id="1675518176089-1" author="claudiomerli (generated)">
        <createTable tableName="domain">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_domain"/>
            </column>
            <column name="name" type="VARCHAR(255)"/>
            <column name="ip" type="VARCHAR(255)"/>
            <column name="expiration" type="DATE"/>
            <column name="hosting_id" type="INT"/>
            <column name="deleted" type="BOOLEAN"/>
            <column name="created_date" type="DATETIME"/>
            <column name="last_modified_date" type="DATETIME"/>
        </createTable>
    </changeSet>
    <changeSet id="1675518176089-2" author="claudiomerli (generated)">
        <createTable tableName="editor_info">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_editor_info"/>
            </column>
            <column name="editor_id" type="INT"/>
            <column name="info" type="VARCHAR(255)"/>
            <column name="remuneration" type="VARCHAR(255)"/>
            <column name="notes" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet id="1675518176089-3" author="claudiomerli (generated)">
        <createTable tableName="hosting">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_hosting"/>
            </column>
            <column name="name" type="VARCHAR(255)"/>
            <column name="username" type="VARCHAR(255)"/>
            <column name="password" type="VARCHAR(255)"/>
            <column name="url" type="VARCHAR(255)"/>
            <column name="notes" type="VARCHAR(255)"/>
            <column name="deleted" type="BOOLEAN"/>
            <column name="created_date" type="DATETIME"/>
            <column name="last_modified_date" type="DATETIME"/>
        </createTable>
    </changeSet>
    <changeSet id="1675518176089-8" author="claudiomerli (generated)">
        <addForeignKeyConstraint baseColumnNames="hosting_id" baseTableName="domain"
                                 constraintName="FK_DOMAIN_ON_HOSTING" referencedColumnNames="id"
                                 referencedTableName="hosting"/>
    </changeSet>
    <changeSet id="1675518176089-9" author="claudiomerli (generated)">
        <addForeignKeyConstraint baseColumnNames="editor_id" baseTableName="editor_info"
                                 constraintName="FK_EDITOR_INFO_ON_EDITOR" referencedColumnNames="id"
                                 referencedTableName="user"/>
    </changeSet>
    <changeSet id="1675518176089-10" author="claudiomerli (generated)">
        <dropColumn columnName="level" tableName="user"/>

        <dropColumn columnName="remuneration" tableName="user"/>
    </changeSet>
    <changeSet id="1675522379471-1" author="claudiomerli (generated)">
        <addColumn tableName="project">
            <column name="domain_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet id="1675522379471-6" author="claudiomerli (generated)">
        <addForeignKeyConstraint baseColumnNames="domain_id" baseTableName="project"
                                 constraintName="FK_PROJECT_ON_DOMAIN" referencedColumnNames="id"
                                 referencedTableName="domain"/>
    </changeSet>
    <changeSet id="1675699868796-7" author="claudiomerli (generated)">
        <addColumn tableName="domain">
            <column name="wordpress_password" type="VARCHAR(255)"/>
            <column name="wordpress_username" type="VARCHAR(255)"/>
        </addColumn>
    </changeSet>
    <changeSet id="1675702354689-1" author="claudiomerli (generated)">
        <addColumn tableName="content">
            <column name="wordpress_id" type="VARCHAR(255)"/>
            <column name="wordpress_publication_date" type="DATETIME"/>
            <column name="wordpress_url" type="VARCHAR(255)"/>
        </addColumn>
    </changeSet>
    <changeSet id="1675867592018-1" author="claudiomerli (generated)">
        <createTable tableName="content_wordpress_category">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_content_wordpress_category"/>
            </column>
            <column name="category_id" type="INT"/>
            <column name="content_id" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet id="1675867592018-8" author="claudiomerli (generated)">
        <addForeignKeyConstraint baseColumnNames="content_id" baseTableName="content_wordpress_category"
                                 constraintName="FK_CONTENT_WORDPRESS_CATEGORY_ON_CONTENT" referencedColumnNames="id"
                                 referencedTableName="content"/>
    </changeSet>
    <changeSet id="1675878874278-1" author="claudiomerli (generated)">
        <addColumn tableName="content">
            <column name="wordpress_featured_media_id" type="INT"/>
            <column name="wordpress_featured_media_url" type="VARCHAR(255)"/>
        </addColumn>
    </changeSet>
    <changeSet id="20230208-1" author="claudiomerli">
        <modifyDataType tableName="content" columnName="wordpress_featured_media_url" newDataType="varchar(1024)"/>
    </changeSet>
    <changeSet id="1676223178406-4" author="claudiomerli (generated)">
        <addColumn tableName="domain">
            <column name="newspaper_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet id="1676223178406-8" author="claudiomerli (generated)">
        <addForeignKeyConstraint baseColumnNames="newspaper_id" baseTableName="domain"
                                 constraintName="FK_DOMAIN_ON_NEWSPAPER" referencedColumnNames="id"
                                 referencedTableName="newspaper"/>
    </changeSet>
    <changeSet id="1676225182092-1" author="claudiomerli (generated)">
        <addColumn tableName="project">
            <column name="deleted" type="BOOLEAN"/>
        </addColumn>
    </changeSet>
    <changeSet id="20230212-01" author="claudiomerli">
        <sql>
            update project
            set deleted = true
            where deleted is null;
        </sql>
    </changeSet>
    <changeSet id="20230212-02" author="claudiomerli">
        <sql>
            update project
            set deleted = false
            where deleted is true;
        </sql>
    </changeSet>
    <changeSet id="1676230108118-1" author="claudiomerli (generated)">
        <addColumn tableName="content">
            <column name="assign_date" type="DATETIME"/>
        </addColumn>
    </changeSet>
    <changeSet id="1676238285828-1" author="claudiomerli (generated)">
        <createTable tableName="project_final_customers">
            <column name="project_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="final_customers_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="1676238285828-8" author="claudiomerli (generated)">
        <addForeignKeyConstraint baseColumnNames="project_id" baseTableName="project_final_customers"
                                 constraintName="fk_profincus_on_project" referencedColumnNames="id"
                                 referencedTableName="project"/>
    </changeSet>
    <changeSet id="1676238285828-9" author="claudiomerli (generated)">
        <addForeignKeyConstraint baseColumnNames="final_customers_id" baseTableName="project_final_customers"
                                 constraintName="fk_profincus_on_user" referencedColumnNames="id"
                                 referencedTableName="user"/>
    </changeSet>
    <changeSet id="1677922780376-1" author="claudiomerli (generated)">
        <createTable tableName="content_purchase">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_content_purchase"/>
            </column>
            <column name="amount" type="DOUBLE"/>
            <column name="content_number" type="INT"/>
            <column name="created_date" type="DATETIME"/>
            <column name="last_modified_date" type="DATETIME"/>
        </createTable>
    </changeSet>
    <changeSet id="1677922780376-2" author="claudiomerli (generated)">
        <createTable tableName="content_purchase_newspaper">
            <column name="content_purchase_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="newspapers_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="1677922780376-9" author="claudiomerli (generated)">
        <addForeignKeyConstraint baseColumnNames="content_purchase_id" baseTableName="content_purchase_newspaper"
                                 constraintName="fk_conpurnew_on_content_purchase" referencedColumnNames="id"
                                 referencedTableName="content_purchase"/>
    </changeSet>
    <changeSet id="1677922780376-10" author="claudiomerli (generated)">
        <addForeignKeyConstraint baseColumnNames="newspapers_id" baseTableName="content_purchase_newspaper"
                                 constraintName="fk_conpurnew_on_newspaper" referencedColumnNames="id"
                                 referencedTableName="newspaper"/>
    </changeSet>
    <changeSet id="1677935063062-4" author="claudiomerli (generated)">
        <addColumn tableName="content_purchase">
            <column name="note" type="CLOB"/>
        </addColumn>
    </changeSet>
    <changeSet id="1677949036144-4" author="claudiomerli (generated)">
        <addColumn tableName="content_purchase">
            <column name="used" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet id="2023-03-04-1" author="claudiomerli (generated)">
        <sql>
            update content_purchase
            set used = 0
            where used is null;
        </sql>
    </changeSet>
    <changeSet id="1677949758943-1" author="claudiomerli (generated)">
        <addColumn tableName="project_commission">
            <column name="content_purchase_id" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet id="1677949758943-9" author="claudiomerli (generated)">
        <addForeignKeyConstraint baseColumnNames="content_purchase_id" baseTableName="project_commission"
                                 constraintName="FK_PROJECT_COMMISSION_ON_CONTENTPURCHASE" referencedColumnNames="id"
                                 referencedTableName="content_purchase"/>
    </changeSet>
    <changeSet id="1677949758943-10" author="claudiomerli (generated)">
        <dropColumn columnName="used" tableName="content_purchase"/>
    </changeSet>
    <changeSet id="1677952124183-9" author="claudiomerli (generated)">
        <dropColumn columnName="purchased_content" tableName="newspaper"/>
    </changeSet>
    <changeSet id="1680695167689-1" author="claudiomerli (generated)">
        <createTable tableName="content_hint_template">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_content_hint_template"/>
            </column>
            <column name="body" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet id="1680706076028-1" author="claudiomerli (generated)">
        <modifyDataType columnName="body" newDataType="CLOB" tableName="content_hint_template"/>
    </changeSet>
    <changeSet id="1680773196434-1" author="claudiomerli (generated)">
        <addColumn tableName="content_purchase">
            <column name="expiration" type="DATE"/>
        </addColumn>
    </changeSet>
    <changeSet id="1684523774570-9" author="claudiomerli (generated)">
        <addColumn tableName="newspaper">
            <column name="warning" type="BOOLEAN"/>
        </addColumn>
    </changeSet>
    <changeSet id="20230519-2" author="claudiomerli (generated)">
        <sql>update newspaper set warning = false where warning is null</sql>
    </changeSet>
</databaseChangeLog>
